import resolve from '@rollup/plugin-node-resolve';
import commonjs from '@rollup/plugin-commonjs';

const external = [ 'three', 'd3', "pixi.js" ];
const globals = { 'three': 'THREE', "d3": "d3", "pixi.js" : "PIXI" };

export default [
	{
		input: "src/index.js",
		output: {
			file: "dist/mascot.js",
			name: "msc",
			format: "umd",
			globals,
			banner: "/* eslint-disable */"
		},
		external,
		plugins: [
			resolve({
				preferBuiltins: false
			}),			
			commonjs()
		],
		onwarn: function (warning, warn) {
			if (warning.code === 'CIRCULAR_DEPENDENCY') return;
			warn(warning);
		}
	}
];